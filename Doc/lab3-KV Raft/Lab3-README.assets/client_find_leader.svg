<?xml version="1.0" encoding="UTF-8"?>
<!-- Do not edit this file with editors other than diagrams.net -->
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="991px" height="282px" viewBox="-0.5 -0.5 991 282" content="&lt;mxfile host=&quot;app.diagrams.net&quot; modified=&quot;2023-07-12T06:53:28.103Z&quot; agent=&quot;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/114.0.0.0 Safari/537.36&quot; etag=&quot;OabOLpPUCMIT665RvpeY&quot; version=&quot;21.1.4&quot;&gt;&lt;diagram name=&quot;第 1 页&quot; id=&quot;FZJmRkkW8R2Tms1hYAiO&quot;&gt;7VpLj9s4DP41Onbh9+Noe5zpobNbYA6L7qVwbU3iVolSW5kk/fVL2vJLdnay0zgtmgYBIlEyJZP8SIoKMaP14b5ItqsHnlFGDC07EPOOGIZu6A78IOVYU2xfrwnLIs/kpI7wmH+jkqhJ6i7PaDmYKDhnIt8OiSnfbGgqBrSkKPh+OO2Js+Gq22RJR4THNGFj6t95JlbN7uDTjbyl+XIlRkPrpJkvCeUqyfi+RzJjYkYF56JurQ8RZSi/RjT1c4sTo+3eCroR5zzwbccf0oePb/+8//jhr3/uV9wVH95ILs8J28l3JobDgF/4xIEt7FocpTScrzveDLwpK10FMEH3tqDvsBuH1hJ/I5bjzmKXBBF+Y4uEHvE0EjsVRSexTXyNBAtseAEJvGZteIl6+ZqTlF+7E0PQA9JXYs2AoEOzFAX/QiPOeAGUDd9Q3GnOmEJKWL7cQDeFrVGgh8+0EDloPJAD6zzLcJlwv8oFfdwmKa65B/sGWsF3m4yiPLV2W8iAHk7qRG81DSihfE1FcYQp8gFf2obER9vf96ytAcOqZ2eNTSXSwJct584AoCFt4H/YgzlhD4rw6SYLEFsoRZaUZZ4OVTElJJqNgPaiiHoysCdE0NAKyhKRPw/ZT8lFrvCe55VhSw20vqZVgf+HPWRS8l2RUvlcH2AKK8sesjI1RUsiKZZUjBhVimpf/PW6s+bDMol94gfEWyB4/YiEAVIAy57fw3XVCIKSFgCKauYdCWwSeyRcED9Gihcj5dZgbqpG5vxonNsv4xzi1Rab6a5gx7BI0i9UnBDYJPqxx5JPlL3nZS5yjmJn9En0tPFOGW610uivqEVxWn0XUI7lKsqxxsoxJnSjz6YcZ14gS9i6FaKtBp7+FH6hu2A0yaB7a5i1NcWb2xOYta6JWffnMIva3d/9to+X3cZ17cO/tdzNsRQV2Ipoz83cXDU+q4xmztya5eeB9mn/7oXENxDyITTAIpoDW+sB4GwWujgz1Iln4Dkt9EnoNDyt6ggXVrmdTYKYeGbFtnImyGdR5X/Q1Ylv9jhXSWR9FPSBudYONc4E5XVrHsU1fjaPok+VB35pl+I5F3Ip/ku+aW6XYsznUhpH4ZBAQ4eAkL9D+I9cTR/OWOSpJiLWQxJa3XkQh2J0QqOj4o0mFyPr+fGu4OYqQ2p2YTqvzS7UupDKaG5XMGthyMaqkK83Jwh9Im24NfSOLGcKvVct9+i/6z0dHJV6T1uce6neo5ZzL6edGQs+MoAiFo3qzgUCazTM5SGMQ/Q2K4qH30FSb0HIlgH/1nDsqSWgCUvRzavi+HQNqNwmm+905QZ68MDpGp3Ca+6/usJ9XVW4fZ7C9bkUPpVlQcb0KLu8ECu+5JuExR1VkUs35x3nW6mgz1SIo7xwT3aCD9X3+tTse2/jVN985hXa+Bzn2QNGlnVe8gb5a3LsTdvihPL0hkfreNp/7kt9QWU+NOodXDQBbNzRvPFFhhULLwfhoBdDDgiUqDksjotJHkYfkB8WgVwZifwITo1Vw6ookF16VX1IDUk3H4wsbSIYudcMRsbUkfCSFxJuc81QlQhvTeGNa2gVPnUBdaFTBHS7PyLVbqf7R5cZ/ws=&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="0" y="83" width="110" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 93px; margin-left: 1px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 18px;">Client第一次启动</font></div></div></div></foreignObject><text x="55" y="97" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">Client第一次启动</text></switch></g><path d="M 120 92.5 L 353.63 92.99" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 358.88 93 L 351.87 96.48 L 353.63 92.99 L 351.89 89.48 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="220" y="53" width="110" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 63px; margin-left: 221px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 18px;">随机选一个server来连接</font></div></div></div></foreignObject><text x="275" y="67" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">随机选一个server来连接</text></switch></g><path d="M 400 33 L 395 33 Q 390 33 390 43 L 390 83 Q 390 93 385 93 L 382.5 93 Q 380 93 385 93 L 387.5 93 Q 390 93 390 103 L 390 143 Q 390 153 395 153 L 400 153" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="410" y="143" width="140" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 153px; margin-left: 411px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 18px;">选的这个server是leader</font></div></div></div></foreignObject><text x="480" y="157" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">选的这个server是leader</text></switch></g><rect x="410" y="33" width="140" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 43px; margin-left: 411px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 18px;">选的这个server不是leader</font></div></div></div></foreignObject><text x="480" y="47" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">选的这个server不是leader</text></switch></g><path d="M 550 43 L 613.63 43" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 618.88 43 L 611.88 46.5 L 613.63 43 L 611.88 39.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="630" y="33" width="140" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 43px; margin-left: 631px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 18px;">这个server拒绝client的请求并返回它所知道的最新的leader id</font></div></div></div></foreignObject><text x="700" y="47" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">这个server拒绝client的请求并返回它所知道的最新的leader id</text></switch></g><path d="M 770 43 L 843.63 43" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 848.88 43 L 841.88 46.5 L 843.63 43 L 841.88 39.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="850" y="33" width="140" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 138px; height: 1px; padding-top: 43px; margin-left: 851px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 18px;">client根据这个leader id再直接去连接leader</font></div></div></div></foreignObject><text x="920" y="47" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">client根据这个leader id再直接去连接leader</text></switch></g><path d="M 550 153 L 653.63 153" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 658.88 153 L 651.88 156.5 L 653.63 153 L 651.88 149.5 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="550" y="133" width="110" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 143px; margin-left: 551px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 18px;">发送请求</font></div></div></div></foreignObject><text x="605" y="147" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">发送请求</text></switch></g><path d="M 700 103 L 695 103 Q 690 103 690 113 L 690 143 Q 690 153 685 153 L 682.5 153 Q 680 153 685 153 L 687.5 153 Q 690 153 690 163 L 690 193 Q 690 203 695 203 L 700 203" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="710" y="103" width="130" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 113px; margin-left: 711px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 18px;">leader没挂并正常回复client</font></div></div></div></foreignObject><text x="775" y="117" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">leader没挂并正常回复client</text></switch></g><rect x="820" y="108" width="130" height="10" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 128px; height: 1px; padding-top: 113px; margin-left: 821px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><span style="font-size: 18px;">……</span></div></div></div></foreignObject><text x="885" y="117" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">……</text></switch></g><path d="M 795 233 L 795 273 L 180 273 L 180 99.37" fill="none" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 180 94.12 L 183.5 101.12 L 180 99.37 L 176.5 101.12 Z" fill="rgb(0, 0, 0)" stroke="rgb(0, 0, 0)" stroke-miterlimit="10" pointer-events="all"/><rect x="710" y="193" width="170" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 168px; height: 1px; padding-top: 203px; margin-left: 711px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 18px;">leader挂了，client请求超时未收到回复</font></div></div></div></foreignObject><text x="795" y="207" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">leader挂了，client请求超时未收到回复</text></switch></g><rect x="390" y="243" width="110" height="20" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility" style="overflow: visible; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe center; width: 108px; height: 1px; padding-top: 253px; margin-left: 391px;"><div data-drawio-colors="color: rgb(0, 0, 0); " style="box-sizing: border-box; font-size: 0px; text-align: center;"><div style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; pointer-events: all; white-space: normal; overflow-wrap: normal;"><font style="font-size: 18px;">重新</font></div></div></div></foreignObject><text x="445" y="257" fill="rgb(0, 0, 0)" font-family="Helvetica" font-size="12px" text-anchor="middle">重新</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://www.diagrams.net/doc/faq/svg-export-text-problems" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Text is not SVG - cannot display</text></a></switch></svg>